{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohamed.nader.BASS\\\\Desktop\\\\Cloud Project\\\\Project\\\\Cloud Project\\\\Cloud Frontend\\\\src\\\\Modules\\\\Product\\\\ProductSelection\\\\ProductSelection.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport ProductSelectionColor from \"./ProductSelectionColor\";\nimport ButtonBlock from \"Components/Buttons/ButtonBlock\";\nimport UseStore from \"Store/StoreContext\";\nimport { withRouter } from \"react-router-dom\";\nimport ProductSelectionText from \"./ProductSelectionText\";\nimport ProductSelectionGraphics from \"./ProductSelectionGraphics\";\nimport axios from \"axios\";\nimport AuthContext from \"Store/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Product = props => {\n  _s();\n  const user = useContext(AuthContext);\n  const classes = useStyles();\n  const {\n    current\n  } = props;\n  const [prod, setProd] = useState({\n    ...current,\n    text: \"\",\n    graphics: {\n      alt: \"\"\n    }\n  });\n  console.log(\"prod is \", prod);\n  const {\n    getCurrentCart\n  } = UseStore();\n  const addToCart = async () => {\n    console.log(\"current is \", current);\n    await axios.post(`${process.env.REACT_APP_SERVER_ENDPOINT}/cart/${user.user._id}/add`, {\n      productId: current._id,\n      quantity: 1,\n      color: prod.color,\n      text: prod.text,\n      design: prod.graphics.alt\n    }).catch(err => {\n      console.log(\"err is \", err);\n    });\n    getCurrentCart();\n  };\n  const setColor = e => {\n    setProd(prevProd => ({\n      ...prevProd,\n      color: e.target.name || \"\"\n    }));\n  };\n  const setText = text => {\n    setProd(prevProd => ({\n      ...prevProd,\n      text: text || \"\"\n    }));\n  };\n  const setGraphics = graphic => {\n    setProd(prevProd => ({\n      ...prevProd,\n      graphics: {\n        src: graphic.src,\n        alt: graphic.alt || \"\",\n        width: graphic.width,\n        height: graphic.height\n      }\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.selection,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: classes.title,\n      children: current.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductSelectionColor, {\n      color: prod.color,\n      setColor: setColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductSelectionText, {\n      shirtText: prod.text,\n      setShirtText: setText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductSelectionGraphics, {\n      shirtGraphics: prod.graphics,\n      setShirtGraphics: setGraphics\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 \",\n      children: user.user.userRole !== 'admin' && user.user.userRole !== 'designer' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.addToCartButton,\n        children: /*#__PURE__*/_jsxDEV(ButtonBlock, {\n          onClick: addToCart,\n          fontWeight: \"400\",\n          text: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You cannot add to cart.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(Product, \"/Lqf94SUxWM5edYJ/VU5e8alzHs=\", false, function () {\n  return [useStyles];\n});\n_c = Product;\nexport default _c2 = withRouter(Product);\nconst useStyles = makeStyles(theme => ({\n  selection: {\n    color: \"#555\",\n    textAlign: \"center\"\n  },\n  title: {\n    color: \"#555\"\n  },\n  buttonContainer: {\n    width: \"300px\",\n    margin: \"auto\"\n  },\n  addToCartButton: {\n    width: \"100%\",\n    margin: \"auto\",\n    maxWidth: \"300px\",\n    height: \"44px\",\n    backgroundColor: \"rgb(85 30 30) !important\",\n    color: \"rgb(255 255 255) !important\",\n    borderRadius: \"5px\"\n  }\n}));\nvar _c, _c2;\n$RefreshReg$(_c, \"Product\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useContext","useState","makeStyles","ProductSelectionColor","ButtonBlock","UseStore","withRouter","ProductSelectionText","ProductSelectionGraphics","axios","AuthContext","jsxDEV","_jsxDEV","Product","props","_s","user","classes","useStyles","current","prod","setProd","text","graphics","alt","console","log","getCurrentCart","addToCart","post","process","env","REACT_APP_SERVER_ENDPOINT","_id","productId","quantity","color","design","catch","err","setColor","e","prevProd","target","name","setText","setGraphics","graphic","src","width","height","className","selection","children","title","fileName","_jsxFileName","lineNumber","columnNumber","shirtText","setShirtText","shirtGraphics","setShirtGraphics","userRole","addToCartButton","onClick","fontWeight","_c","_c2","theme","textAlign","buttonContainer","margin","maxWidth","backgroundColor","borderRadius","$RefreshReg$"],"sources":["C:/Users/mohamed.nader.BASS/Desktop/Cloud Project/Project/Cloud Project/Cloud Frontend/src/Modules/Product/ProductSelection/ProductSelection.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport ProductSelectionColor from \"./ProductSelectionColor\";\r\nimport ButtonBlock from \"Components/Buttons/ButtonBlock\";\r\nimport UseStore from \"Store/StoreContext\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport ProductSelectionText from \"./ProductSelectionText\";\r\nimport ProductSelectionGraphics from \"./ProductSelectionGraphics\";\r\nimport axios from \"axios\";\r\nimport AuthContext from \"Store/AuthContext\";\r\n\r\nconst Product = (props) => {\r\n  const user = useContext(AuthContext);\r\n\r\n  const classes = useStyles();\r\n  const { current } = props;\r\n  const [prod, setProd] = useState({\r\n    ...current,\r\n    text: \"\",\r\n    graphics: { alt: \"\" },\r\n  });\r\n  console.log(\"prod is \", prod);\r\n  const { getCurrentCart } = UseStore();\r\n\r\n  const addToCart = async () => {\r\n    console.log(\"current is \", current);\r\n    await axios\r\n      .post(`${process.env.REACT_APP_SERVER_ENDPOINT}/cart/${user.user._id}/add`, {\r\n        productId: current._id,\r\n        quantity: 1,\r\n        color: prod.color,\r\n        text: prod.text,\r\n        design: prod.graphics.alt,\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err is \", err);\r\n      });\r\n    getCurrentCart();\r\n  };\r\n\r\n  const setColor = (e) => {\r\n    setProd((prevProd) => ({\r\n      ...prevProd,\r\n      color: e.target.name || \"\",\r\n    }));\r\n  };\r\n\r\n  const setText = (text) => {\r\n    setProd((prevProd) => ({\r\n      ...prevProd,\r\n      text: text || \"\",\r\n    }));\r\n  };\r\n\r\n  const setGraphics = (graphic) => {\r\n    setProd((prevProd) => ({\r\n      ...prevProd,\r\n      graphics: {\r\n        src: graphic.src,\r\n        alt: graphic.alt  || \"\",\r\n        width: graphic.width,\r\n        height: graphic.height,\r\n      },\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.selection}>\r\n      <h2 className={classes.title}>{current.name}</h2>\r\n      <ProductSelectionColor color={prod.color} setColor={setColor} />\r\n      <ProductSelectionText shirtText={prod.text} setShirtText={setText} />\r\n      <ProductSelectionGraphics\r\n        shirtGraphics={prod.graphics}\r\n        setShirtGraphics={setGraphics}\r\n      />\r\n       <div className=\"mt-4 \">\r\n      {user.user.userRole !== 'admin' && user.user.userRole !== 'designer' ? (\r\n        <div className={classes.addToCartButton}>\r\n          <ButtonBlock\r\n            onClick={addToCart}\r\n            fontWeight=\"400\"\r\n            text=\"Add to Cart\"\r\n          />\r\n        </div>\r\n      ) : (\r\n        <p>You cannot add to cart.</p>\r\n      )}\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Product);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  selection: {\r\n    color: \"#555\",\r\n    textAlign: \"center\",\r\n  },\r\n  title: {\r\n    color: \"#555\",\r\n  },\r\n  buttonContainer: {\r\n    width: \"300px\",\r\n    margin: \"auto\",\r\n  },\r\n  addToCartButton: {\r\n    width: \"100%\",\r\n    margin: \"auto\",\r\n    maxWidth: \"300px\",\r\n    height: \"44px\",\r\n    backgroundColor: \"rgb(85 30 30) !important\",\r\n    color: \"rgb(255 255 255) !important\",\r\n    borderRadius: \"5px\",\r\n  },\r\n}));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}